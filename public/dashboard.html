<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard - Fokus.com</title>
    <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
    <header>
        <div class="container">
            <a href="index.html" class="logo">FOKUS.COM - ADMIN</a>
        </div>
    </header>

    <main class="container">
        <h1>Dasbor Admin</h1>
        <p>Selamat datang, <span id="user-name">Admin</span>!</p>

        <section class="dashboard-section">
            <h2>Buat Berita Baru</h2>
            <form id="create-post-form">
                <div class="form-group">
                    <label for="post-title">Judul Berita</label>
                    <input type="text" class="form-control" id="post-title" required />
                </div>
                <div class="form-group">
                    <label for="post-image">Foto Berita</label>
                    <input type="file" class="form-control" id="post-image" accept="image/*" required />
                </div>
                <div class="form-group">
                    <label for="post-category">Kategori</label>
                    <select class="form-control" id="post-category" required>
                        <option value="" disabled selected>Pilih Kategori...</option>
                        <option value="News">News</option>
                        <option value="Ekonomi">Ekonomi</option>
                        <option value="Olahraga">Olahraga</option>
                        <option value="Teknologi">Teknologi</option>
                        <option value="Hiburan">Hiburan</option>
                        <option value="Lifestyle">Lifestyle</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="post-content">Isi Berita</label>
                    <textarea class="form-control" id="post-content" rows="10" required></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Terbitkan</button>
            </form>
        </section>

        <section class="dashboard-section">
            <h2>Daftar Berita</h2>
            <div id="post-list" class="post-list-table">
                </div>
        </section>
    </main>

    <div class="modal" id="edit-modal">
        <div class="modal-content">
            <button class="modal-close" id="edit-close">&times;</button>
            <h2 class="modal-title">Edit Berita</h2>
            <form id="edit-post-form">
                <input type="hidden" id="edit-post-id" />
                <input type="hidden" id="edit-existing-image-url" />
                <div class="form-group">
                    <label for="edit-post-title">Judul Berita</label>
                    <input type="text" class="form-control" id="edit-post-title" required />
                </div>
                <div class="form-group">
                    <label>Foto Saat Ini</label>
                    <img id="edit-image-preview" src="" alt="Preview Gambar" style="max-width: 100px; display: block; margin-bottom: 10px;">
                    <label for="edit-post-image">Ganti Foto (Opsional)</label>
                    <input type="file" class="form-control" id="edit-post-image" accept="image/*" />
                </div>
                <div class="form-group">
                    <label for="edit-post-category">Kategori</label>
                    <select class="form-control" id="edit-post-category" required>
                        <option value="News">News</option>
                        <option value="Ekonomi">Ekonomi</option>
                        <option value="Olahraga">Olahraga</option>
                        <option value="Teknologi">Teknologi</option>
                        <option value="Hiburan">Hiburan</option>
                        <option value="Lifestyle">Lifestyle</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="edit-post-content">Isi Berita</label>
                    <textarea class="form-control" id="edit-post-content" rows="10" required></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Simpan Perubahan</button>
            </form>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
    <script>
      const { createClient } = supabase;
      window.supabase = createClient('https://ppmbksnakhndovwovjks.supabase.co', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBwbWJrc25ha2huZG92d292amtzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc4ODA1MjcsImV4cCI6MjA3MzQ1NjUyN30.ZPpHhNWZgvuQFqV92AiP9YBvdmVtMSqyj1ZjEKoDssc');
    </script>
    <script src="js/dashboard.js"></script>
  </body>
  </html>